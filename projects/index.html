<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/mywebsite/libs/highlight/github.min.css"> <link rel=stylesheet  href="/mywebsite/css/franklin.css"> <link rel=stylesheet  href="/mywebsite/css/poole_lanyon.css"> <link rel=stylesheet  href="/mywebsite/css/adjust.css"> <link rel=icon  href="/mywebsite/assets/favicon.png"> <link rel=stylesheet  href="https://pro.fontawesome.com/releases/v5.15.4/css/all.css"> <title>Projects</title> <input type=checkbox  class=sidebar-checkbox  id=sidebar-checkbox > <div class=sidebar  id=sidebar > <div class=sidebar-item > <p></p> </div> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/mywebsite/">Home</a> <a class="sidebar-nav-item " href="/mywebsite/patents/">Patents</a> <a class="sidebar-nav-item active" href="/mywebsite/projects/">Projects</a> <a class="sidebar-nav-item " href="/mywebsite/publications/">Publications</a> <a class="sidebar-nav-item " href="/mywebsite/tags/">Tags</a> </nav> <div class=sidebar-item > <p>Follow me on:</p> <p> <div class=side-item-row > <div class=side-item-column > <a href="https://www.facebook.com/barisbatukan" target=_blank ><i class="fab fa-facebook fa-3x" aria-hidden=true ></i></a></div> <div class=side-item-column > <a href="https://www.instagram.com/barisbatukan/" target=_blank ><i class="fab fa-instagram fa-3x" aria-hidden=true ></i></a></div> <div class=side-item-column > <a href="https://twitter.com/barisbatukan" target=_blank ><i class="fab fa-twitter fa-3x" aria-hidden=true ></i></a></div> </div> </p> <p> <div class=side-item-row > <div class=side-item-column > <a href="https://www.linkedin.com/in/batukan/" target=_blank ><i class="fab fa-linkedin-in fa-3x" aria-hidden=true ></i></a></div> <div class=side-item-column > <a href="https://www.youtube.com/channel/UC_caL3Jxg6_61mGuWY1iaAQ" target=_blank ><i class="fab fa-youtube fa-3x" aria-hidden=true ></i></a></div> <div class=side-item-column > <a href="https://github.com/mbbatukan" target=_blank ><i class="fab fa-github fa-3x" aria-hidden=true ></i></a> </div> </div> </p> <p> <div class=side-item-row > <div class=side-item-column > <a href="https://www.researchgate.net/profile/Mehmet_Batukan2" target=_blank ><i class="fab fa-researchgate fa-3x" aria-hidden=true ></i></a></div> <div class=side-item-column > <a href="https://scholar.google.com/citations?user=7Hd1_u8AAAAJ&hl=en&oi=ao" target=_blank ><i class="fab fa-google fa-3x" aria-hidden=true ></i></a></div> <div class=side-item-column > <a href="https://orcid.org/0000-0002-6622-7983" target=_blank ><i class="fab fa-orcid fa-3x" aria-hidden=true ></i></a></div> </div> </p> </div> <div class=sidebar-item > <p>&copy; Mehmet Baris Batukan</p> </div> </div> <!-- Wrap is the content to shift when toggling the sidebar. We wrap the content to avoid any CSS collisions with our real content. --> <div class=wrap > <div class=masthead > <div class=container > <h3 class=masthead-title > <a href="/mywebsite/" title=Home >Mehmet Baris Batukan</a> <small>Personal Website</small> </h3> </div> </div> <div class="container content"> <div class=franklin-content ><h1 id=projects ><a href="#projects" class=header-anchor >Projects</a></h1> <div class=franklin-toc ><ol><li><a href="#ongoing">Ongoing</a><ol><li><a href="#bike_share_toronto">Bike Share Toronto</a><li><a href="#data_wrangling_with_julia">Data Wrangling with Julia</a></ol><li><a href="#completed">Completed</a></ol></div> <hr /> <h2 id=ongoing ><a href="#ongoing" class=header-anchor >Ongoing</a></h2> <h3 id=bike_share_toronto ><a href="#bike_share_toronto" class=header-anchor >Bike Share Toronto</a></h3></p> <h4 id=dataset_visualization_python ><a href="#dataset_visualization_python" class=header-anchor >Dataset visualization &#40;Python&#41;</a></h4> <pre><code class=language-python ># python
import os
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
import matplotlib_inline.backend_inline
matplotlib_inline.backend_inline.set_matplotlib_formats&#40;&#39;svg&#39;&#41;

&#37;cd -q &quot;../dataset/data/weather/&quot;
years &#61; &#91;&quot;2017&quot;, &quot;2018&quot;, &quot;2019&quot;, &quot;2020&quot;, &quot;2021&quot;&#93;

for year in years:
    files_weather &#61; os.listdir&#40;&#41;

    files_weather_selected &#61; &#91;&#93;
    for file in files_weather:
        if year in file:
            files_weather_selected.append&#40;file&#41;
    
    df_weather &#61; pd.DataFrame&#40;&#41;
    for file in files_weather_selected:
        df_weather &#61; df_weather.append&#40;pd.read_csv&#40;file&#41;&#41;

    plt.figure&#40;&#41;
    palette &#61; sns.diverging_palette&#40;250, 15, s&#61;100, l&#61;50, n&#61;9, center&#61;&quot;light&quot;&#41;
    ax &#61; sns.boxplot&#40;x&#61;&quot;Month&quot;, y&#61;&quot;Temp &#40;째C&#41;&quot;, data&#61;df_weather, palette&#61;palette&#41;
    ax.grid&#40;linewidth&#61; 0.2&#41;
    ax.set_axisbelow&#40;True&#41;
    ax.set_xticklabels&#40;&#91;&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, \
                        &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;&#93;&#41;
    plt.title&#40;f&quot;Monthly Weather in Toronto &#40;&#123;year&#125;&#41;&quot;&#41;
    plt.savefig&#40;f&quot;../../../project/weather_&#123;year&#125;.svg&quot;, dpi&#61;1200, \
                format&#61;&quot;svg&quot;, transparent&#61;False, facecolor&#61;&quot;white&quot;&#41;</code></pre> <h4 id=saved_figures_from_python ><a href="#saved_figures_from_python" class=header-anchor >Saved figures from Python</a></h4> <details> <summary>Click to expand!</summary> <p align=center > <img src="https://raw.githubusercontent.com/mbbatukan/BikeShareToronto/main/project/weather_2017.svg"> <img src="https://raw.githubusercontent.com/mbbatukan/BikeShareToronto/main/project/weather_2018.svg"> <img src="https://raw.githubusercontent.com/mbbatukan/BikeShareToronto/main/project/weather_2019.svg"> <img src="https://raw.githubusercontent.com/mbbatukan/BikeShareToronto/main/project/weather_2020.svg"> <img src="https://raw.githubusercontent.com/mbbatukan/BikeShareToronto/main/project/weather_2021.svg"> </p> </details> <h4 id=dataset_visualization_julia ><a href="#dataset_visualization_julia" class=header-anchor >Dataset visualization &#40;Julia&#41;</a></h4> <pre><code class=language-julia ># Julia
home_dir &#61; homedir&#40;&#41;

using Pkg; Pkg.activate&#40;home_dir * &quot;.julia/environments/DataFrames&quot;&#41;
import DataFrames as DF
using CSV, Gadfly

years &#61; &#91;&quot;2017&quot;, &quot;2018&quot;, &quot;2019&quot;, &quot;2020&quot;, &quot;2021&quot;&#93;

folder_weather &#61; home_dir * &quot;/github/BikeShareToronto/dataset/data/weather/&quot;
files_weather &#61; readdir&#40;folder_weather&#41;

for year in years
    files_weather_selected &#61; &#91;&#93;
    for file in files_weather
        if occursin&#40;year, file&#41;
            push&#33;&#40;files_weather_selected, file&#41;
        end
    end

    df_all &#61; DF.DataFrame&#40;&#41;
    for file in files_weather_selected
        append&#33;&#40;df_all, DF.DataFrame&#40;CSV.File&#40;folder_weather * file&#41;&#41;;
                cols &#61; :union&#41;
    end

    DF.describe&#40;df_all, :all&#41;
    df_weather &#61; df_all&#91;:, &#91;&quot;Temp &#40;째C&#41;&quot;, &quot;Month&quot;&#93;&#93;
    DF.rename&#33;&#40;df_weather, &quot;Temp &#40;째C&#41;&quot; &#61;&gt; :temp, &quot;Month&quot; &#61;&gt; :month&#41;
    DF.dropmissing&#33;&#40;df_weather&#41;

    df_weather&#91;&#33;,:month&#93; &#61; string.&#40;df_weather&#91;&#33;,:month&#93;&#41;
    xticks &#61; &#91;&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, 
              &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;&#93;

    for i in 1:12
        replace&#33;&#40;df_weather.month, string&#40;i&#41; &#61;&gt; xticks&#91;i&#93;&#41;
    end

    set_default_plot_size&#40;16cm, 9cm&#41;

    p &#61; plot&#40;df_weather,
        x &#61; :month,
        y &#61; :temp,
        color &#61; :month,
        Geom.boxplot,
        Guide.xlabel&#40;&quot;Months&quot;&#41;,
        Guide.ylabel&#40;&quot;Temperature &#40;째C&#41;&quot;&#41;,
        Guide.title&#40;&quot;Monthly Weather in Toronto &#40;&#36;year&#41;&quot;&#41;,
        Guide.xticks&#40;ticks&#61;&#91;0:13;&#93;&#41;,
        Guide.colorkey&#40;title &#61; &quot;Months&quot;&#41;,
        Scale.y_continuous&#40;format &#61; :plain&#41;,
        Theme&#40;background_color &#61; &quot;white&quot;&#41;
    &#41;

    img &#61; SVG&#40;home_dir * &quot;/github/BikeShareToronto/project/weather_&#36;&#40;year&#41;_julia.svg&quot;,
             16cm, 9cm&#41;
    draw&#40;img, p&#41;
end</code></pre> <h4 id=saved_figures_from_julia ><a href="#saved_figures_from_julia" class=header-anchor >Saved figures from Julia</a></h4> <p> <details> <summary>Click to expand!</summary> <p align=center > <img src="https://raw.githubusercontent.com/mbbatukan/BikeShareToronto/main/project/weather_2017_julia.svg"> <img src="https://raw.githubusercontent.com/mbbatukan/BikeShareToronto/main/project/weather_2018_julia.svg"> <img src="https://raw.githubusercontent.com/mbbatukan/BikeShareToronto/main/project/weather_2019_julia.svg"> <img src="https://raw.githubusercontent.com/mbbatukan/BikeShareToronto/main/project/weather_2020_julia.svg"> <img src="https://raw.githubusercontent.com/mbbatukan/BikeShareToronto/main/project/weather_2021_julia.svg"> </p> </details> <h3 id=data_wrangling_with_julia ><a href="#data_wrangling_with_julia" class=header-anchor >Data Wrangling with Julia</a></h3></p> <p>Data wrangling is a very important step in machine learning, and raw &#40;scraped/downloaded from the internet&#41; data should be cleaned out before training the models. Pandas is incredible module in Python to analyze and manipulate the data, so I have gained some basic experience in the last few years. However, Julia is high-level programming language and has been increasingly getting popular in data science. I try to learn syntax of Julia to add to my skill set. For this reason, I prepared this post to show similarities in between Julia/DataFrames and Python/Pandas for myself. Also, I hope this will encourage people to try coding in Julia.</p> <p>Recently, there was an online event to learn basics of machine learning &#40;Luckily, I attended&#41;. In the first part, data wrangling explained well in detail using Python/Pandas. Those who are interested in seeing the original repository by Shadi Khalifa and accessing to the source files can refer to <a href="https://github.com/skhalifa/CAC_S20">the repository</a>.</p> <p>Basically, I repeated what it was done in Python/Julia to gain confidence in Julia/DataFrames. This first block of code is the Python code and following codes are Julia code and output from Julia REPL, respectively. I didn&#39;t explicitly show Python output, but it can be found in <a href="https://github.com/skhalifa/CAC_S20/blob/master/DataPrepHandsOn.ipynb">Jupyter Notebook</a>.</p> <p>There will be no separate reference for each block of code, and well-written documentation of the both modules can be accessed using the links below.</p> <ul> <li><p><a href="https://pandas.pydata.org/docs/">Python/Pandas</a></p> <li><p><a href="https://dataframes.juliadata.org/stable/">Julia/DataFrames</a></p> </ul> <p>Since both modules and programming languages are getting updates frequently, some of codes may not properly run in the most recent version. Therefore, I listed the versions that I used to create outputs.</p> <ul> <li><p>Python: 3.9.7</p> <ul> <li><p>Pandas &#40;conda&#41;: 1.3.5</p> </ul> <li><p>Julia: 1.7.1</p> <ul> <li><p>CSV: 0.9.11</p> <li><p>DataFrames: 1.3.1</p> <li><p>DataFramesMeta: 0.10.0</p> </ul> </ul> <p>If you are new to Julia, you can refer to <a href="https://docs.julialang.org/en/v1/">Julia documentation</a> and watch <a href="https://www.youtube.com/c/juliafortalentedamateurs">julia for talented ameteurs</a> channel in YouTube to gain basic knowledge.</p> <p>First of all, we need to import modules and CSV &#40;data&#41; file.</p> <pre><code class=language-python ># Python
import Pandas as pd

df_airbnb &#61; pd.read_csv&#40;&quot;airbnb.csv&quot;&#41;</code></pre> <pre><code class=language-julia ># Julia
using CSV, DataFrames

df_airbnb &#61; DataFrame&#40;CSV.File&#40;&quot;airbnb.csv&quot;&#41;&#41;</code></pre> <p>The first 5 rows of the dataframe can be seen with following commands:</p> <ul> <li><p>Python: <code>df_airbnb.head&#40;5&#41;</code></p> <li><p>Julia: <code>first&#40;df_airbnb, 5&#41;</code></p> </ul> <p>If you are using <a href="https://code.visualstudio.com">vscode</a> and <a href="https://code.visualstudio.com/docs/languages/julia">Julia extension</a> is installed. Dataframe can be visualized by <code>vscodedisplay&#40;df_airbnb&#41;</code>.</p> <p>Let&#39;s see how many rows and columns we have in the dataset.</p> <pre><code class=language-python ># Python
df_airbnb.shape</code></pre> <pre><code class=language-julia ># Julia
@show size&#40;df_airbnb&#41;</code></pre> <pre><code class="plaintext code-output"># Julia REPL output
size(df_airbnb) = (7072, 96)</code></pre> <p>Also, <code>df_airbnb.info&#40;&#41;</code> method and <code>describe&#40;df_airbnb&#41;</code> function can be used to get detailed information about dataset in Python/Pandas and Julia/DataFrames, respectively.</p> <p>There are 96 columns as you can see from the output. Since, not all of these columns is necessary to train model. We have to get rid of some of the columns.</p> <pre><code class=language-julia ># The same array in Python and Julia
columns_needed &#61; &#91;
   &quot;host_is_superhost&quot;,
   &quot;cancellation_policy&quot;,
   &quot;instant_bookable&quot;,
   &quot;host_total_listings_count&quot;,
   &quot;neighbourhood_cleansed&quot;,
   &quot;zipcode&quot;,
   &quot;latitude&quot;,
   &quot;longitude&quot;,
   &quot;property_type&quot;,
   &quot;room_type&quot;,
   &quot;accommodates&quot;,
   &quot;bathrooms&quot;,
   &quot;bedrooms&quot;,
   &quot;beds&quot;,
   &quot;bed_type&quot;,
   &quot;minimum_nights&quot;,
   &quot;number_of_reviews&quot;,
   &quot;review_scores_rating&quot;,
   &quot;review_scores_accuracy&quot;,
   &quot;review_scores_cleanliness&quot;,
   &quot;review_scores_checkin&quot;,
   &quot;review_scores_communication&quot;,
   &quot;review_scores_location&quot;,
   &quot;review_scores_value&quot;,
   &quot;price&quot;&#93;</code></pre> <pre><code class=language-python ># Python
df_cleaned &#61; df_airbnb&#91;columns_needed&#93;</code></pre> <pre><code class=language-julia ># Julia
df_cleaned &#61; df_airbnb&#91;&#33;, columns_needed&#93;</code></pre> <p>To see what type of elements we have in each column, you can use:</p> <ul> <li><p>Python: <code>df_cleaned.dtypes</code></p> <li><p>Julia: <code>eltype.&#40;eachcol&#40;df_cleaned&#41;&#41;</code></p> </ul> <pre><code class="plaintext code-output"># Julia REPL output
25-element Vector{Union}:
 Union{Missing, String1}
 Union{Missing, String31}
 Union{Missing, String1}
 Union{Missing, Int64}
 Union{Missing, String31}
 Union{Missing, Int64}
 Union{Missing, Float64}
 Union{Missing, Float64}
 Union{Missing, String31}
 Union{Missing, String15}
 Union{Missing, Int64}
 Union{Missing, Float64}
 Union{Missing, Int64}
 Union{Missing, Int64}
 Union{Missing, String15}
 Union{Missing, Int64}
 Union{Missing, Int64}
 Union{Missing, Int64}
 Union{Missing, Int64}
 Union{Missing, Int64}
 Union{Missing, Int64}
 Union{Missing, Int64}
 Union{Missing, Int64}
 Union{Missing, Int64}
 Union{Missing, String15}
</code></pre> <p>As can be seen above, Julia gives you Union type which consist of Missing and other data types &#40;Int or String&#41; meaning that we have missing data in each column. Missing data can easily be observed with <code>df_cleaned.info&#40;&#41;</code> method in Python as well. <h2 id=completed ><a href="#completed" class=header-anchor >Completed</a></h2> <div class=page-foot > <div class=copyright > &copy; Mehmet Baris Batukan. Created: January 22, 2022, and last modified: January 29, 2022. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>, the <a href="https://julialang.org">Julia programming language</a>, and <a href="https://lanyon.getpoole.com">Lanyon (A Jekyll theme)</a>. </div> </div> </div> </div> </div> <script src="/mywebsite/libs/highlight/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: ' '});</script> <label for=sidebar-checkbox  class=sidebar-toggle ></label>